{% block core %}{% from cms.grading import task_score %}Username,User,{% for task in contest.tasks %}{{ "%s" % task.name }},P,{% end %}Global,P
{% for p in sorted(contest.participations, key=lambda p: p.user.username) %}{% if not p.hidden %}{% set score = 0.0 %}{% set partial = False %}{{ p.user.username }},{{ "%s %s" % (p.user.first_name, p.user.last_name) }},{% for task in contest.tasks %}{% set t_score, t_partial = task_score(p, task) %}{% set t_score = round(t_score, task.score_precision) %}{% set score += t_score %}{% set partial = partial or t_partial %}{{ t_score }},{% if t_partial %}*{% else %} {% end %},{% end %}{{ round(score, contest.score_precision) }},{% if partial %}*{% else %} {% end %}
{% end %}{% end %}{% end %}
